{% extends "base.html" %} {% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="cyber-card">
        <h2 class="text-center mb-4 neon-text">Edit Your Avatar</h2>
        <form enctype="multipart/form-data" method="POST">
          <!-- Current Avatar Display -->
          <div class="text-center mb-4">
            <div class="avatar-upload">
              <label class="avatar-preview" for="avatar-input">
                <div
                  id="imagePreview"
                  style="background-image: url('{{ current_user.avatar_url or url_for('static', filename='images/avatar-placeholder.jpg') }}');"
                ></div>
              </label>
              <input
                accept="image/*"
                id="avatar-input"
                name="avatar"
                type="file"
              />
            </div>
            <small class="text-muted"
              >Click the image to change your avatar</small
            >
          </div>
          <!-- Avatar Details -->
          <div class="mb-4">
            <input
              class="form-control cyber-input"
              name="nickname"
              placeholder="Nickname"
              required=""
              type="text"
              value="{{ current_user.nickname }}"
            />
          </div>
          <div class="mb-4">
            <select class="form-select cyber-input" name="style" required="">
              <option disabled="" value="">Choose Your Style</option>
              <option
                %}=""
                %}selected{%=""
                current_user.style="aggressive"
                endif=""
                if=""
                value="aggressive"
                {%=""
              >
                Aggressive
              </option>
              <option
                %}=""
                %}selected{%=""
                current_user.style="defensive"
                endif=""
                if=""
                value="defensive"
                {%=""
              >
                Defensive
              </option>
              <option
                %}=""
                %}selected{%=""
                current_user.style="tactical"
                endif=""
                if=""
                value="tactical"
                {%=""
              >
                Tactical
              </option>
              <option
                %}=""
                %}selected{%=""
                current_user.style="balanced"
                endif=""
                if=""
                value="balanced"
                {%=""
              >
                Balanced
              </option>
            </select>
          </div>
          <div class="mb-4">
            <textarea
              class="form-control cyber-input"
              name="bio"
              placeholder="Tell us about yourself..."
              rows="3"
            >
{{ current_user.bio }}</textarea
            >
          </div>
          <div class="d-grid gap-2">
            <button class="btn btn-neon" type="submit">Save Changes</button>
            <a
              class="btn btn-outline-secondary"
              href="{{ url_for('dashboard') }}"
              >Cancel</a
            >
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
{% endblock %}
