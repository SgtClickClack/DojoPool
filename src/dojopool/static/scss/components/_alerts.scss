@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// Base alert styles
.alert {
    position: relative;
    padding: spacing(4) spacing(6);
    margin-bottom: spacing(4);
    border: 1px solid transparent;
    @include rounded(lg);
    @include shadow(sm);
    
    // Alert with icon
    &.alert-with-icon {
        padding-left: spacing(14);
        
        .alert-icon {
            position: absolute;
            top: spacing(4);
            left: spacing(4);
            width: spacing(6);
            height: spacing(6);
        }
    }
    
    // Alert with close button
    &.alert-dismissible {
        padding-right: spacing(12);
        
        .alert-close {
            position: absolute;
            top: spacing(4);
            right: spacing(4);
            padding: spacing(1);
            color: inherit;
            background-color: transparent;
            border: 0;
            @include rounded;
            opacity: 0.5;
            cursor: pointer;
            @include transition(opacity);
            
            &:hover {
                opacity: 0.75;
            }
            
            .icon {
                width: spacing(4);
                height: spacing(4);
            }
        }
    }
}

// Alert title
.alert-title {
    margin-top: 0;
    margin-bottom: spacing(1);
    @include font-size(lg);
    @include font-weight(semibold);
}

// Alert content
.alert-content {
    margin-bottom: 0;
}

// Alert variants
.alert-primary {
    color: color(primary, 900);
    background-color: color(primary, 50);
    border-color: color(primary, 100);
    
    .alert-title {
        color: color(primary, 900);
    }
    
    .alert-icon {
        color: color(primary, 500);
    }
    
    hr {
        border-top-color: color(primary, 200);
    }
    
    .alert-link {
        color: color(primary, 700);
        
        &:hover {
            color: color(primary, 900);
        }
    }
}

.alert-secondary {
    color: color(secondary, 900);
    background-color: color(secondary, 50);
    border-color: color(secondary, 100);
    
    .alert-title {
        color: color(secondary, 900);
    }
    
    .alert-icon {
        color: color(secondary, 500);
    }
    
    hr {
        border-top-color: color(secondary, 200);
    }
    
    .alert-link {
        color: color(secondary, 700);
        
        &:hover {
            color: color(secondary, 900);
        }
    }
}

.alert-success {
    color: color(success, 900);
    background-color: color(success, 50);
    border-color: color(success, 100);
    
    .alert-title {
        color: color(success, 900);
    }
    
    .alert-icon {
        color: color(success, 500);
    }
    
    hr {
        border-top-color: color(success, 200);
    }
    
    .alert-link {
        color: color(success, 700);
        
        &:hover {
            color: color(success, 900);
        }
    }
}

.alert-error {
    color: color(error, 900);
    background-color: color(error, 50);
    border-color: color(error, 100);
    
    .alert-title {
        color: color(error, 900);
    }
    
    .alert-icon {
        color: color(error, 500);
    }
    
    hr {
        border-top-color: color(error, 200);
    }
    
    .alert-link {
        color: color(error, 700);
        
        &:hover {
            color: color(error, 900);
        }
    }
}

.alert-warning {
    color: color(warning, 900);
    background-color: color(warning, 50);
    border-color: color(warning, 100);
    
    .alert-title {
        color: color(warning, 900);
    }
    
    .alert-icon {
        color: color(warning, 500);
    }
    
    hr {
        border-top-color: color(warning, 200);
    }
    
    .alert-link {
        color: color(warning, 700);
        
        &:hover {
            color: color(warning, 900);
        }
    }
}

// Alert animations
.alert-enter {
    opacity: 0;
    transform: translateY(-#{spacing(2)});
}

.alert-enter-active {
    opacity: 1;
    transform: translateY(0);
    @include transition(opacity, transform);
}

.alert-exit {
    opacity: 1;
    transform: translateY(0);
}

.alert-exit-active {
    opacity: 0;
    transform: translateY(-#{spacing(2)});
    @include transition(opacity, transform);
}

// Toast notifications
.toast-container {
    position: fixed;
    z-index: map-get($z-index, toast);
    padding: spacing(4);
    
    // Positions
    &.top-right {
        top: 0;
        right: 0;
    }
    
    &.top-left {
        top: 0;
        left: 0;
    }
    
    &.bottom-right {
        bottom: 0;
        right: 0;
    }
    
    &.bottom-left {
        bottom: 0;
        left: 0;
    }
    
    &.top-center {
        top: 0;
        left: 50%;
        transform: translateX(-50%);
    }
    
    &.bottom-center {
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
    }
}

.toast {
    @extend .alert;
    width: 350px;
    margin-bottom: spacing(2);
    
    &:last-child {
        margin-bottom: 0;
    }
}

// Progress bar for auto-dismissing alerts
.alert-progress {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 3px;
    background-color: rgba(white, 0.2);
    
    &::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        background-color: rgba(white, 0.4);
        animation: alert-progress linear forwards;
    }
}

@keyframes alert-progress {
    from {
        width: 100%;
    }
    to {
        width: 0;
    }
} 